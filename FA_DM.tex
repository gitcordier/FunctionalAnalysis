% a4paper = ISO 216 standard. 
% Don't forget to revert to default if you want the US Letter instead.
\documentclass[a4paper,10pt,titlepage,openany, leqno]{book}

%: MATH PACKAGE USED
%\usepackage{graphicx}
%\usepackage{fontspec}
\usepackage{amsmath, bm}
\usepackage{
physics, 
amssymb, 
amsfonts, 
mathrsfs, 
amsthm, 
mathtools, 
mathspec, 
fouridx, 
%%stix
%%tensor 
%tikz 
}
%\usetikzlibrary{arrows,snakes,backgrounds,patterns,matrix,shapes,fit,calc,shadows,plotmarks}
\usepackage{caption}
\captionsetup{labelsep=period}
\usepackage{diagbox} % For diagonal cells
%\usetikzlibrary{shapes.geometric}
%\usetikzlibrary{arrows.meta,arrows}
%\usepackage{tlatex}
% TEXs LOGOS! 
%\usepackage{dtklogos}

%\usepackage[bottom=3cm,top=2cm]{geometry}
% Metric system, sorry;)
\usepackage[left=1.9cm,right=1.32cm,top=1.9cm,bottom=3.67cm]{geometry}
%: COLOR
\usepackage{array}
%\usepackage[dvipsnames]{xcolor}
%\usepackage[]{color}
%\usepackage{framed}
\usepackage{colortbl}

%: FOR XELATEX. SKIP IF ERROR MESSAGE
\usepackage{xltxtra,xunicode}

%: for HEVEA- Uncomment before using XeTeX
%\usepackage[utf8]{inputenc}
\usepackage[xetex]{hyperref}
%\usepackage{hyperref}
%\usepackage{listings}
\hypersetup{%
    pdfborder = {0 0 0},
    colorlinks,
    citecolor=red,
    filecolor=green,
    linkcolor=black,
    urlcolor=blue%cyan!50!black!90
}
\defaultfontfeatures{Mapping=tex-text}

% FONTS: PERSONNAL CHOICE- CAN BE CHANGED!
\newfontfamily{\CMUCS}{CMU Classical Serif}
\newfontfamily{\CMU}{CMU Serif}
\newfontfamily{\CMUSS}{CMU Sans Serif}
\newfontfamily{\fw}{CMU Typewriter Text Light}
%\newfontfamily{\Arabic}{Al Bayan}
% On mac OS:
%\newfontfamily{\Didot}{Didot}
% Alternatively, for all Unix systems:
%\newfontfamily{\Didot}{Theano Didot}
%\usepackage{mathspec}
\def\mainfont{CMU Serif}
\setmainfont{\mainfont}

\setmathfont(Latin)[Uppercase=Regular,Lowercase=Regular]{\mainfont}
\setmathfont(Greek)[Uppercase=Regular,Lowercase=Regular]{\mainfont}
\setmathrm{\mainfont}
%\setmathbb{\mainfont}
%\setmathit{\mainfont}
\setmathtt{CMU Typewriter Text Light}
%\setmathbf{CMU Serif}


%: TYPOGRAPHIC CONVENTIONS, XETEX
\usepackage{polyglossia}
%\selectbackgroundlanguage[variant=usmax]{english}
\setdefaultlanguage[variant=usmax]{english}

%
%\usepackage{glossaries}
%\makeglossaries


%\newglossaryentry{maths}
%{
%    name=mathematics,
%    description={Mathematics is what mathematicians do}
%}
%: ----------------------------PRIMITIVES------------------------------------- 
\newcommand{\insmall}[1]{\text{\small{#1}}}
% Some acceptable minus sign.
\newcommand{\minus}{\insmall{-}}


% The field C and the usual subsets R, Q, Z, N. 
\newcommand\usualSet[1]{{\mathbf #1}}
\def\C{\usualSet{C}}
\def\R{\usualSet{R}}
\def\Q{\usualSet{Q}}
\def\Z{\usualSet{Z}}
\def\N{\usualSet{N}}
\def\K{\usualSet{K}}

% "Defined as equals to", alternative to := .
\def\Def{\triangleq}
\def\defIFF{\quad \text{\bf iff} \quad}

% Counting numbers
\newcommand\counting[1]{#1=1, 2, 3, \dots}
% integers (nonnegative)
\newcommand\integers[1]{#1=0, 1, 2, \dots}
\newcommand\naturals[1]{#1=0, 1, 2, \dots}

% Indices: upper, lower
\newcommand{\up}[1]{^{(#1)}}
\newcommand{\low}[1]{_{#1}}
\newcommand{\upnw}[2]{\fourIdx{#2}{}{}{}#1}
\newcommand{\downsw}[2]{\fourIdx{}{#2}{}{}#1}
\newcommand{\scriptatleft}[3]{\fourIdx{#2}{#3}{}{}#1}
\newcommand{\diagscript}[3]{\fourIdx{#2}{}{}{#3}#1}
%\tensor*[^x]{V}{_k}

% function, relation
\newcommand{\function}[1]{\mathtt{#1}}
\newcommand{\relation}[2]{{#1}_{#2}}
\newcommand{\f}[2]{#1(#2)}
\newcommand{\id}[1]{\text{id}_{#1}}
%\renewcommand{\restriction}[2]{\left.#1\right|_{#2}}
\renewcommand{\restriction}[2]{#1\!\upharpoonright_{#2}}

%\newcommand{\DeclareMathOperator}[1]{\text{#1}}

% Sets
%\renewcommand{\notin}{\tiny{\not\in}}
%\renewcommand{\ni}{\small \ni}
\renewcommand{\subset}{\subseteq}
\renewcommand{\supset}{\supseteq}
\newcommand{\bigsetminus}[1][\big]{\mathbin{#1\backslash}}
\DeclareMathOperator\opcard{card} 
%
\def\contains{\supseteq}
\def\cuts{\cap}
\DeclareMathOperator\cvxhull{co} 
%\DeclareMathOperator\support{supp} 
\newcommand{\co}[1]{\cvxhull(#1)}
\newcommand{\set}[3][\big]{#1\{#2 : #3 #1\}}

\newcommand{\singleton}[1]{\{#1\}}
\newcommand{\interior}[1]{\overset{\circ}{#1}}
\newcommand{\closure}[1]{\overline{#1}} 
 
% Arithmetics


% Calculus 
\DeclareMathOperator\sgn{sgn}
\newcommand{\ceil}[1]{\lceil #1 \rceil}
\DeclareMathOperator\Leibnizdiff{d}
\newcommand{\diff}[1]{\Leibnizdiff{\!#1}}
\newcommand{\supp}[1]{\operatorname{supp}#1}

% Variation of a function. 
% I don't know where the original \variation comes from. 
% It outputs a \delta... Hence 
\newcommand{\evalbar}[4][\Big]{#2\mathrel{#1|}_{#3}^{#4}}
\newcommand{\evalbracket}[4][\Big]{#1[\,#2\,#1]_{#3}^{#4}}
%
% Analysis
\newcommand{\openinterval}[2]{\left]#1, #2\right[} 
%\newcommand{\magnitude}[1]{\abs{\,#1\,}}
\def\hspaceNorm{\hspace{0.12 em}}
\newcommand{\magnitude}[2][\big]{#1\lvert \hspaceNorm #2 \hspaceNorm #1\rvert}

\renewcommand{\norm}[2][]{
  \if\relax\detokenize{#1}\relax 
    \lVert \hspaceNorm  #2 \hspaceNorm \rVert 
  \else 
    \left\lVert \hspaceNorm #2 \hspaceNorm \right\rVert_{#1} 
  \fi
}

% Three-bar norm, macro from:
% https://tex.stackexchange.com/questions/54385/spacing-between-triple-vertical-lines
\newcommand{\vertiii}[1]{{\left\vert\kern-0.25ex\left\vert\kern-0.25ex\left\vert #1 
    \right\vert\kern-0.25ex\right\vert\kern-0.25ex\right\vert}}
% So, 
\newcommand{\normtriple}[2]{\vertiii{\hspaceNorm #2 \hspaceNorm}_{#1}}

\newcommand{\Continuous}{{\mathscr C}} 
\newcommand{\D}{{\mathscr D}} 
%\renewcommand{\norm}[2]{\norm{#2}_{#1}}
\def\weakstar{\text{weak}^\ast\text{-}}

% Topology
\newcommand{\localbase}[1]{\mathscr #1}

%Iverson bracket
\newcommand{\Iverson}[1]{\bigl[#1\bigr]}

% limits
\newcommand{\tendsto}[2]{\xrightarrow[#1 \to #2]{}}

% Variables
\newcommand{\varit}[1]{\mathit{#1}}
\def\vart{\varit{t}}
%Usual terms
\def\ie{\textit{, i.e., }}
\def\eg{\textit{, e.g., }}
\def\cf{\textit{cf.\,}} 
\def\IFF{{\bf iff }}
\def\wlg{{\bf wlg }} % Without loss of generality

% then, since.
\def\then{\Rightarrow} 
\def\therefore{\Rightarrow}
\def\since{\Leftarrow}
\def\because{\Leftarrow} 
\renewcommand{\iff}{\Leftrightarrow}

% Misc
% phi is varphi:
\renewcommand{\phi}{\varphi} 

% Citations
\newcommand{\citehere}[2]{\overset{#1}{#2}}
\newcommand{\citeq}[1]{\citehere{#1}{=}}
%\newcomand{\citeineq}[1]{\citehere{#1}{=}}
\newcommand{\citeleq}[1]{\citehere{#1}{\leq}}
\newcommand{\citegeq}[1]{\citehere{#1}{\geq}}
\newcommand{\citeleast}[1]{\citehere{#1}{<}}
\newcommand{\citegreater}[1]{\citehere{#1}{>}}

\newcommand{\citesubset}[1]{\citehere{#1}{\subset}}
\newcommand{\citesubseteq}[1]{\citehere{#1}{\subseteq}}
\newcommand{\citesupset}[1]{\citehere{#1}{\supset}}
\newcommand{\citesupseteq}[1]{\citehere{#1}{\supseteq}}

\newcommand{\citethen}[1]{\citehere{#1}{\then}}
%\newcommand{\citesince}[1]{\citehere{#1}{\Leftarrow}}
\newcommand{\citeresult}[2]{#1 of #2}
\newcommand{\citebook}[2]{[#1] of {\cite{#2}}}
\newcommand{\citeFA}[1]{\citebook{#1}{FA}}

\newcommand{\citein}[1]{\citehere{#1}{\in}}
% Misc
\newcommand{\underbarwithindex}[2]{\underline{#1}\,\!_{#2}}
\newcommand{\dy}[1]{{\function{dyadic}}(#1)}
\def\ddy{{\function{decay}}}

%--------------END OF PRIMITIVES--------------------------------

% Environment for lemmas 
\makeatletter
\newtheoremstyle{namedlemma} % <name>
  {3pt}                     % Space above
  {20pt}                    % Space below
  {}                        % Body font e.g \itshape
  {}                        % Indent
  {\bfseries}               % Head font
  {.\newline}               % Hack
  {\newline}                % Space after theorem head
  {\thmname{#1}\ \thmnumber{#2}\thmnote{\quad #3}} % Head spec
\makeatother

\theoremstyle{namedlemma}
\newtheorem{lemma}{Lemma}[chapter]

\def\ROOT{./}
\def\TITLE{
  Solutions to some exercises from Walter Rudin's \textit{Functional Analysis}
}
\def\EMAIL{}
\def\AUTHOR{gitcordier}

\begin{document}
% Changes the "proof" in proof environment. 
% source: https://tex.stackexchange.com/questions/8089/changing-style-of-proof
\let\oldproofname=\proofname
\renewcommand{\proofname}{{\rm \small PROOF}}
%\begin{abstract}
%    \input{\ROOT/abstract.tex}
%\end{abstract}
%\title{\TITLE}
\title{\TITLE}
\author{\AUTHOR}
\date{\today}
\maketitle

% FORMAT ENUMERATION (DEFAULT. OPTIONS: ALPH, ARABIC, ROMAN,â€¦)
%\renewcommand{\labelenumi}{$(\textit{\alph{enumi}}\,)$}
% IF LANG = @fr
%\renewcommand{\chaptername}{Chapitre}
%
\frontmatter
\tableofcontents
%\clearpage

%\printglossary
\renewcommand{\thesection}{\Roman{section}}
\renewcommand{\thesubsection}{\roman{subsection}}
\input{\ROOT/notations.tex}
\renewcommand{\thesubsection}{\arabic{subsection}}
\renewcommand{\thesection}{\arabic{section}}
\mainmatter
%\part{Content} 
\input{\ROOT/FA_mainmatter.tex} 

\backmatter
%\part{Annex}
\chapter{Annex}
%\addcontentsline{toc}{chapter}{Annex}

\newcounter{annex_chapter}
\newcounter{annex_section}

\setcounter{annex_chapter}{1}
\setcounter{annex_section}{1}
\setcounter{equation}{0}

\renewcommand{\thechapter}{\Alph{annex_chapter}} 
\renewcommand{\thesection}{\thechapter.\arabic{annex_section}} 
\renewcommand{\theequation}{\thechapter.\arabic{equation}}
%
\input{\ROOT/annex/FA_annex.tex}

% --- Bibliography ---
\bibliographystyle{plain}
\bibliography{bibliography}
\addcontentsline{toc}{chapter}{Bibliography}
\end{document}
% Made on \XeTeX
% END
% 